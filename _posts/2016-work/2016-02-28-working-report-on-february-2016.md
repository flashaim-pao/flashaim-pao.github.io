---
layout: post
title: '工作紀實 2016年 2月'
date: 2016-02-28 16:00
image: ''
description: ''
categories:
    - 工作紀實
tags:
    - 月報
    - 知識科技
 
---
# MS 產品

上個月底進行了分流計畫的實驗與調整後，本月初進行實際的移機作業，過程也因為經過多次演練而順利完成。此外，我所架設的新主機系統環境加上程式的修改後，已經不需要反向代理來轉換不同網域請求的目的地，因此自訂網域的設定也更為簡易。而後新主機系統的運作狀況也十分良好，中午緩慢的狀況已不復出現。然而某日發生連線反應過慢的狀況，雖然很擔心是新主機的問題，不過我實事求是的進行檢測動作，使用幾個網路封包檢測工具後發現，是中華電信與 Google 之間的 Router 出了狀況，導致封包被送往美國才繞回來，反應因此變慢。幸好影響不大，這僅僅影響中華電信用戶以及半天的時間。至於沒有任何一方出來說面因此不確定責任歸屬。

## 完成的項目

* #30:由總後台進入某客戶後台之後，無法開啟某產品分類頁面。
* #33: 客戶前台若使用獨立網址將會變慢
    + 原因是這些網域 DNS 由客戶自行管理而未正確設定
* #35: 提供資料庫管理介面
    + 使用 SSH Tunnel + MySQL workbench
* #39: 建立 Docker Containers 供測試與佈署之用並建立測試機
* 新增 4 組自訂網域
* 移機作業
    + 測試與撰寫客戶自訂網域設定（92組）
        - 新主機使用不同的網頁伺服器：Nginx
        - 修改程式後已無需反向代理
    + 執行移機
        - 同步檔案
        - 同步資料庫
    + 檢視與修正路徑權限問題
* 協助調查連線變慢原因
    + 使用工具發現網路封包到中華電信的末端 Router 時，被轉去美國。
    + 已恢復正常，是偶發事件。
        - 不清楚責任歸屬（中華電信 或 Google ?）

# TK 產品

本月也是主要協助 TK 產品的主機轉移前置作業，包含建置 TK 產品專用 Docker container ，也成功建置私用的 Docker Registry （必須使用合法的 SSL 憑證，這裡採用了 *Let's Encrypt* 的解決方案）。最終也成功建立起測試機，也演練成功搬移的動作，目前等待正式的搬移了。

## 完成的項目

* #87: 建立與設定 GCE 新主機與建構專屬 Docker containers
    + 新建 GCE 機器與設定
    + 建立 Docker Registry 於 Flashaim NAS
    + 建立 PHP Base Image （含 extension 與 composer）
    + 建立 TK docker 執行環境
* #102: 建立佈署腳本並建置測試機
    + http://t??????g.ddns.net/
* 協助轉移至 github 以及轉移 issues

## 執行中

* #111: 搬移至 GCE 的新主機（S3）
    + 新主機上已可運作(尚未正式搬移)

# α 產品

* 測試並安裝 SSL 憑證於官網

# A????d

* 協助啟用 S2 伺服器的快取與壓縮之設定
    + 用於 Pagespeed 的展示
