---
layout: post
title: '工作紀實 2017年 8月'
date: 2017-08-30 16:00
image: ''
description: ''
categories:
    - 工作紀實
tags:
    - 月報
    - 知識科技
 
---
# EB 專案

本月初急忙地趕工 EB 專案，由於是可以彈性設定的 Chat bot，比起固定型的要難上許多，後台也因而複雜了起來。但是開發這專案也讓我激發出許多想法與好的設計，之後都可以用在其他產品身上，例如 FSB。當然這邊也很感激 N 社的體諒，FSB 有許多工作花了我許多的時間，畢竟是緊急的項目也只能先跳過去處理了（是說，N 社後來又多加了幾項修改啊～）。下個月肯定會完成的， N 社請再稍等一會兒～

# FSB 產品

本月的開發重點改為 FSB ，新增了一對一對話的發送圖片訊息之功能。而初版功能先提供一次一張圖片訊息，日後才會改為一次多張圖片（先求有再求好）。另一方面，由於訊息記錄程式與 FSB 本身的程式放在一起並且相依，使得訊息記錄會受到 FSB 突發的狀況而不會成功記錄。因此將訊息記錄架構整個翻新，解開與 FSB 程式之間的耦合。在開發的過程裡，也恰巧讓我發現 FSB 程式的邏輯缺陷所在，會導致部份訊息沒有被處理到。也就是先前偶而會發生的掉訊息之狀況的成因，也請相關團隊修正之。此架構，日後便不會受其他程式的干擾而可以獨立運作，同時訊息記錄程式也就容易移植到其他的 chat bot 身上了。

## 完成項目

* #656 重構訊息記錄程式使其獨立而不受干擾
* #599 一對一聊天後台提供圖片訊息功能
    + 強制使用 HTTPs URL
    + 修正圖片顯示的比例
* #702 金流串接地圖 API
    + 協助阿泰解決開發環境問題
* 協助調查訊息處理異常問題（掉訊息）
    + FSB 程式有邏輯錯誤導致後續訊息不會被處理到
       - 已請組員修正
* 協助調查一對一對話遺失問題
    + 客戶的 API 設定打錯
* 恢復某客戶的歷史訊息
* 清除記錄週期改成九十天
    + 最終改為不清除記錄直到訂出規則

# MS 產品

當初根據 MS 產品運作時的統計，所以移機至 G 社雲端平台時，僅規劃 10GB 的資料庫儲存空間（圖片空間則為 200GB）。後來的 FSB 產品的開發，使用的是 MS 產品的資料庫（相依的系統）然而訊息記錄增長的量，很快就會讓資料庫空間不敷使用。因此新建並轉移至新的固態硬碟 200GB ，用於儲存資料庫檔案之用。

Apple Pay 的 domain 驗證需要放置所給予的驗證檔至主機上，但席亞一直無法成功驗證。最終我發現主因是「路徑撞名」。原來，Apple Pay 與 Let's Encrypt 的驗證檔目錄同名，才會導致無法正確取得檔案給予驗證。

## 完成項目

* 662 增加一顆 200GB 的固態硬碟給資料庫使用
    + 停機並更新
* 協助席亞通過 Apple Pay 的 domain 驗證
* 協助洲哥調查客戶的信用卡界接發生錯誤之問題
    + 沒有收到第二次的確認
    + 程式錯誤導致的連線提前中斷

# 其他

* 給 G社 的 Chat bot 展示
    + 協助製作截圖供聊天機器人的報告投影片之用
    + 協助製作功能流程圖供報告使用


